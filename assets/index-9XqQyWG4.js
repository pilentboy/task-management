(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const O=(t,e,n=null)=>{const o=document.createElement("h2");return o.textContent=e,n&&o.setAttribute("id",n),t.forEach(r=>{o.classList.add(r)}),o},y=document.querySelector(".container"),j=t=>{const e=document.createElement("div");e.id="modalContainer",e.className="flex items-center justify-center w-screen h-screen fixed top-0 left-0 backdrop-blur-md	duration-150 z-[100]",e.append(t),e.addEventListener("click",n=>{n.target===e&&e.remove()}),y==null||y.append(e)},D=(t,e)=>{var r;const n=localStorage.getItem("groups"),o=n?JSON.parse(n):null;o.forEach(s=>{Object.keys(s)[0]===e&&s[e].forEach(a=>{a.id===t&&(a.status?a.status=!1:a.status=!0)})}),localStorage.setItem("groups",JSON.stringify(o)),(r=document.querySelector("#taskList"))==null||r.remove(),x(e)},q=(t,e)=>{var r;const n=localStorage.getItem("groups"),o=n?JSON.parse(n):null;o.forEach((s,a)=>{if(Object.keys(s)[0]===t){const c=s[t].filter(u=>u.id!==e);o[a][t]=c}}),localStorage.setItem("groups",JSON.stringify(o)),(r=document.querySelector("#taskList"))==null||r.remove(),x(t)},A=()=>{const t=document.createElement("div");t.id="groupManager",t.className="w-[95%] sm:w-[400px] h-[450px] border-2 border-slate-800 rounded-lg flex flex-col p-2 add-task-bg";const e=document.createElement("div");return e.className="w-full border-b border-white h-12 flex items-center",t.append(e),e.append(J()),t},J=()=>{const t=localStorage.getItem("groups"),e=t?JSON.parse(t):null,n=document.createElement("ul");return n.className="w-full flex items-center gap-4 overflow-hidden px-2",e.forEach(o=>{const r=Object.keys(o)[0],s=document.createElement("li");s.id=r,s.className="text-white text-sm hover:scale-105 duration-150 cursor-pointer group-title",s.textContent=r,s.addEventListener("click",a=>{var c;(c=document.querySelector("#taskList"))==null||c.remove(),x(a.srcElement.id)}),n.append(s)}),n},x=t=>{const e=document.querySelector("#groupManager"),n=document.createElement("ul");n.id="taskList",n.className="flex flex-col gap-4 mt-2 p-2 bg-slate-900 h-full ";const o=localStorage.getItem("groups");(o?JSON.parse(o):null).forEach(s=>{Object.keys(s)[0]===t&&s[t].forEach(c=>{const u=document.createElement("div");u.className="flex items-center justify-between w-full";const m=document.createElement("div");m.className="flex items-center gap-3";const l=document.createElement("button");l.type="button",l.className="relative overflow-visible task-setting";const i=document.createElement("div");i.className="w-10 h-10 rounded-md hidden items-center justify-center bg-gray-900 absolute top-0 left-0 tast-setting-box z-10";const p=document.createElement("img");p.className="w-5",p.src="/task-management/svg/garbage-trash-svgrepo-com.svg",p.addEventListener("click",()=>q(t,c.id)),i.append(p),l.append(i);const f=document.createElement("img");f.src="/task-management/svg/dot-menu-more-svgrepo-com.svg",f.className="w-4",l.append(f),m.append(l);const b=document.createElement("button");b.type="button",b.className=`border rounded-full w-6 h-6 ${c.status==!0?"bg-green-600":"bg-gray-200"}`,b.addEventListener("click",()=>{D(c.id,t)}),m.append(b);const v=document.createElement("li");v.className="text-white text-sm",v.textContent=c.title,m.append(v),u.append(m);const h=document.createElement("span");h.className="text-gray-300 text-[12px]",h.textContent=c.date,u.append(h),n.append(u)})}),e==null||e.append(n)},U=()=>{const t=document.createElement("div");t.id="groupBox",t.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-2 p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const e=document.createElement("button");e.id="groupBoxToggler",e.type="button";const n=document.createElement("img");return n.src="/task-management/svg/files-svgrepo-com.svg",e.className="duration-500 w-28 absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",e.append(n),t.append(e),t.addEventListener("click",()=>{j(A()),x("وظایفم")}),t},S=(t,e)=>{const n=document.createElement("div");return n.className="w-full flex items-center justify-center gap-10 mt-4",n.append(t),n.append(e),n},k=t=>{const e=document.createElement("button");e.type="button";const n=document.createElement("img");return n.src="/task-management/svg/close-square-svgrepo-com.svg",n.className="w-10 h-10",e.append(n),console.log("xx"),e.addEventListener("click",t),e},I=(t,e="افزودن",n=!0)=>{const o=document.createElement("button");return o.textContent=e,o.className=`self-center px-6 py-2  text-white outline-none border border-white rounded-md duration-150 relative overflow-hidden ${n?"animation-btn":null}`,o.setAttribute("id",t),o},M=()=>{const t=document.createElement("div");t.className="w-3/4 h-[250px] sm:w-[400px]  flex justify-center bg-black  border-b-[4px] border-t-[4px]  border-slate-900 modal-gr  animate__slideInDown animate__animated";const e=document.createElement("form");e.id="updateProfile";const n=document.createElement("div");e.append(n),n.className="flex flex-col gap-2 items-center justify-center w-full h-full";const o=document.createElement("input");return o.id="changeUsernameInput",o.className="w-full p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="تغییر نام کاربری",n.append(o),n.append(S(k(()=>{var r;(r=document.querySelector("#modalContainer"))==null||r.remove()}),I("updateProfile","تایید",!1))),e.addEventListener("submit",r=>{r.preventDefault(),o&&o.value.length>1&&o.value.length<=30&&(localStorage.setItem("username",o.value),location.reload())}),t.append(e),t},P=()=>{const t=document.createElement("div");t.id="profileBox",t.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-2 p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const e=document.createElement("button");e.id="groupBoxToggler",e.type="button";const n=document.createElement("img");return n.src="/task-management/svg/profile-svgrepo-com.svg",e.className="duration-500 w-20  absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",e.append(n),t.append(e),t.addEventListener("click",()=>{j(M())}),t},d=[];for(let t=0;t<256;++t)d.push((t+256).toString(16).slice(1));function R(t,e=0){return(d[t[e+0]]+d[t[e+1]]+d[t[e+2]]+d[t[e+3]]+"-"+d[t[e+4]]+d[t[e+5]]+"-"+d[t[e+6]]+d[t[e+7]]+"-"+d[t[e+8]]+d[t[e+9]]+"-"+d[t[e+10]]+d[t[e+11]]+d[t[e+12]]+d[t[e+13]]+d[t[e+14]]+d[t[e+15]]).toLowerCase()}let w;const z=new Uint8Array(16);function F(){if(!w){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");w=crypto.getRandomValues.bind(crypto)}return w(z)}const G=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),C={randomUUID:G};function V(t,e,n){if(C.randomUUID&&!e&&!t)return C.randomUUID();t=t||{};const o=t.random||(t.rng||F)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,R(o)}const _=(t,e)=>{const o=new Date().toLocaleString("fa-IR",{dateStyle:"medium"}),r=localStorage.getItem("groups");if(r){const s=JSON.parse(r);s.forEach(a=>{if(Object.keys(a)[0]===e){const c={id:V(),title:"",status:!1,date:o},u=a[e];c.title=t.trim(),u.push(c),a[e]=u,localStorage.setItem("groups",JSON.stringify(s))}})}else localStorage.setItem("groups",JSON.stringify([{وظایفم:[t.trim()]}]))},H=t=>{const e=localStorage.getItem("groups"),n=e?JSON.parse(e):null;let o=[];return n.forEach(s=>{o.push(Object.keys(s)[0])}),!(o.filter(s=>s===t).length>0)},W=()=>{const t=document.querySelector("#addTaskBox"),e=document.createElement("form");e.className="z-[5]",e.id="addNewList";const n=document.createElement("div");e.append(n),n.className="absolute top-0 left-0 flex flex-col gap-2 items-center justify-center modal-gr w-full h-full";const o=document.createElement("input");o.className="w-3/4 p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="نام دسته ی جدید...",o.id="addListInput",n.append(o),n.append(S(k(()=>{e.remove()}),I("addNewList"))),e.addEventListener("submit",r=>{if(r.preventDefault(),o.value.length>0&&o.value.length<50&&H(o.value.trim())){const s=localStorage.getItem("groups"),a=s?JSON.parse(s):null;a.push({[o==null?void 0:o.value.trim()]:[]}),localStorage.setItem("groups",JSON.stringify(a)),o.value=""}else o.classList.remove("border-slate-400"),o.classList.add("border-red-500","border-2")}),t==null||t.append(e)},K=()=>{const t=document.createElement("form");t.setAttribute("id","addTaskForm"),t.className="w-full";const e=document.createElement("div");e.id="formContainer",e.className="flex flex-col gap-2 add-task-bg",t.append(e);const n=localStorage.getItem("username"),o=document.createElement("label");o.setAttribute("for","taskInput"),o.className="text-white font-2xl animate-type ",o.textContent=`سلام ${n}!  هدفت چیه؟`,e.append(o);const r=document.createElement("input");r.className="w-[90%] p-2 outline-none bg-white placeholder:text-gray-600 text-black border-slate-400 hover:border-slate-800 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",r.placeholder="هدفم...",r.setAttribute("id","taskInput"),e.append(r);const s=document.createElement("label");s.textContent="تو کدوم دسته؟",s.className="text-white font-2xl",s.setAttribute("for","tasksList"),e.append(s);const a=document.createElement("div");a.className="flex items-center gap-1";const c=document.createElement("select");c.name="taskList",c.id="tasksList",c.className="w-1/2 p-1 bg-transparent cursor-pointer text-white border-slate-400 border hover:border-slate-800 focus:border-slate-800 duration-150  outline-none rounded-md";const u=localStorage.getItem("groups")||null;if(u){const l=JSON.parse(u);let i=[];l.forEach(p=>{i.push(Object.keys(p)[0])}),i.forEach(p=>{const f=document.createElement("option");f.value=p,f.textContent=p,f.className="border-slate-400 bg-transparent  text-black hover:border-slate-800 focus:border-slate-800 duration-150 ",c.append(f)})}else{const l=document.createElement("option");l.value="وظایفم",l.textContent="وظایفم",l.className="border-slate-400 bg-transparent  hover:border-slate-800 focus:border-slate-800 duration-150 ",c.append(l)}a.append(c);const m=document.createElement("button");return m.setAttribute("type","button"),m.className="py-1 px-3 border-none text-white text-lg",m.textContent="+",m.addEventListener("click",W),a.append(m),e.append(a),e.append(S(k(()=>{t.remove();const l=document.querySelector("#taskBoxToggler"),i=document.querySelector("#addTaskBox");l==null||l.classList.remove("animation-remove"),i==null||i.classList.remove("sm:w-[400px]","justify-start","items-start","h-64"),i==null||i.classList.add("sm:w-64","h-48")}),I("submitTaskBTN","افزودن",!1))),t.addEventListener("submit",l=>{l.preventDefault(),r.value.trim().length>0&&r.value.trim().length<50?(_(r.value,c.value),r.classList.remove("border-2","border-red-600"),r.classList.add("border-slate-400"),r.value=""):(r.classList.remove("border-slate-400"),r.classList.add("border-2","border-red-600"))}),t.append(e),t},Q=()=>{const t=document.createElement("div");t.id="addTaskBox",t.className="w-[90%] h-48 flex flex-col relative	items-center  sm:h-64 border-l-2 border-r-2 p-4 border-slate-900 overflow-hidden sm:w-64 duration-300";const e=document.createElement("button");e.id="taskBoxToggler",e.type="button";const n=document.createElement("img");return n.src="/task-management/svg/plus-circle-svgrepo-com.svg",e.className="duration-500 w-28 cursor-pointer absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",e.append(n),e.addEventListener("click",()=>{e.classList.add("animation-remove"),e.disabled=!0,setTimeout(()=>{t.classList.remove("sm:w-64","rotate-90","h-48"),t.classList.add("sm:w-[400px]","justify-start","items-start","h-64"),t.append(K()),e.disabled=!1},500)}),t.append(e),t},g=document.querySelector(".container"),T=()=>{g==null||g.append(U()),g==null||g.append(Q()),g==null||g.append(P())},X=t=>{t.preventDefault();const e=document.querySelector("#usernameInput");if(e&&e.value.length>1&&e.value.length<=30){const n=document.querySelector("#welcomingContainer");localStorage.setItem("username",e.value),localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),n==null||n.classList.add("animation-remove"),setTimeout(()=>{n==null||n.remove(),T()},2e3)}else e==null||e.classList.add("border-red-500")},E=document.querySelector(".container"),Y=()=>{const t=document.createElement("form");t.setAttribute("action","#"),t.setAttribute("id","registerForm"),t.addEventListener("submit",r=>X(r));const e=document.createElement("div");e.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),t.append(e);const n=document.createElement("input");n.setAttribute("id","usernameInput"),n.setAttribute("name","username"),n.setAttribute("placeholder","نام کاربری"),n.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),e.append(n);const o=document.createElement("button");return o.textContent="ورود",o.classList.add("p-4","text-white","border-[2px]","rounded-md","relative","animation-btn","overflow-hidden"),e.append(o),t},Z=()=>{const t=document.createElement("div");t.setAttribute("id","welcomingContainer"),t.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),t.append(O(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),t.append(O(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),t.append(Y()),E==null||E.append(t)},L=document.querySelector(".container"),$=()=>{if(document.querySelector("#starsContainer")){let n=document.querySelector("#starsContainer");n==null||n.remove()}const t=document.createElement("div");t.setAttribute("id","starsContainer"),t.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const e=20;for(let n=0;n<=e;n++){const o=document.createElement("span");o.classList.add("star","absolute");const r=Math.floor(Math.random()*window.innerWidth+50),s=Math.floor(Math.random()*window.innerHeight+50);o.style.left=`${r}px`,o.style.top=`${s}px`,t.append(o)}L==null||L.append(t)},N=document.querySelector("#loading");window.addEventListener("load",()=>{$(),setTimeout(()=>{localStorage.getItem("username")?(localStorage.getItem("groups")||localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),T()):Z(),N==null||N.remove(),B()},10)});window.addEventListener("resize",()=>{B()});const B=()=>{const t=document.querySelector("#welcomeMessage");t&&(window.innerWidth<640?t.textContent="به اپ برنامه ریزی خودت خوش اومدی":t.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")};
