(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const d=document.querySelector("#loading"),o=document.querySelector(".container");window.addEventListener("load",()=>{u(),setTimeout(()=>{localStorage.getItem("username")?m():x(),d==null||d.remove(),i()},1)});window.addEventListener("resize",()=>{i(),u()});const i=()=>{const e=document.querySelector("#welcomeMessage");e&&(window.innerWidth<640?e.textContent="به اپ برنامه ریزی خودت خوش اومدی":e.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")},u=()=>{if(document.querySelector("#starsContainer")){let s=document.querySelector("#starsContainer");s==null||s.remove()}const e=document.createElement("div");e.setAttribute("id","starsContainer"),e.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const t=30;for(let s=0;s<=t;s++){const a=document.createElement("span");a.classList.add("star","absolute"),s%2===0&&a.classList.add("animate-ping");const r=Math.floor(Math.random()*window.innerWidth+50),n=Math.floor(Math.random()*window.innerHeight+50);a.style.left=`${r}px`,a.style.top=`${n}px`,e.append(a)}o==null||o.append(e),console.log("stars rendered")},c=(e,t,s=null)=>{const a=document.createElement("h2");return a.textContent=t,s&&a.setAttribute("id",s),e.forEach(r=>{a.classList.add(r)}),a},f=()=>{const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("id","registerForm"),e.addEventListener("submit",r=>g(r));const t=document.createElement("div");t.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),e.append(t);const s=document.createElement("input");s.setAttribute("id","usernameInput"),s.setAttribute("name","username"),s.setAttribute("placeholder","نام کاربری"),s.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),t.append(s);const a=document.createElement("button");return a.textContent="ورود",a.classList.add("p-4","text-white","border-[2px]","rounded-md","after:absolute","after:content-['']","after:w-full","after:h-full","after:z-[-1]","after:bg-slate-900","after:top-0","after:left-0","relative","after:translate-x-[100%]","overflow-hidden","hover:after:translate-x-0","after:duration-150"),t.append(a),e},x=()=>{const e=document.createElement("div");e.setAttribute("id","welcomingContainer"),e.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),e.append(c(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),e.append(c(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),e.append(f()),o==null||o.append(e)},g=e=>{e.preventDefault();const t=document.querySelector("#usernameInput");if(t&&t.value.length>1&&t.value.length<=30){const s=document.querySelector("#welcomingContainer");localStorage.setItem("username",JSON.stringify(t.value)),s==null||s.classList.add("animation-remove"),setTimeout(()=>{s==null||s.remove(),m()},2e3)}else t==null||t.classList.add("border-red-500")},m=()=>{const e=document.createElement("div");e.setAttribute("id","addTaskBox"),e.className="flex flex-col	items-center justify-center fixed top-1/2 left-1/2  translate-x-[-50%] translate-y-[-50%] w-48 h-48 border-2 p-4 rounded-md border-slate-900 overflow-hidden";const t=document.createElement("img");t.src="/task-management/svg/setting-svgrepo-com.svg",t.className="duration-300  shadow-xl  cursor-pointer bg-transparent absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",t.addEventListener("click",()=>{t.classList.add("animate-wheel"),setTimeout(()=>{e.classList.remove("w-48","h-48"),e.classList.add("w-96","h-56","justify-start","items-start"),t.classList.add("w-10","h-10"),t.src="/task-management/svg/close-square-svgrepo-com.svg",e.append(h())},1e3)}),e.append(t),o==null||o.append(e)},h=()=>{const e=document.createElement("form");e.setAttribute("id","addTaskForm"),e.className="w-full";const t=document.createElement("div");t.className="flex flex-col gap-1",e.append(t);const s=localStorage.getItem("username"),a=s?JSON.parse(s):null,r=document.createElement("label");r.setAttribute("for","taskInput"),r.className="text-white font-2xl animate-type mb-3",r.textContent=`سلام ${a}!  هدفت چیه؟`,t.append(r);const n=document.createElement("input");n.className="w-[90%] p-2 outline-none bg-transparent text-white border-slate-400 border rounded-md placeholder:text-sm",n.placeholder="هدفم...",n.setAttribute("id","taskInput"),t.append(n);const l=document.createElement("button");return l.textContent="افزودن",l.className="self-center px-6 py-2 text-white outline-none border border-slate-900 rounded-md hover:scale-110 duration-150 mt-5 relative overflow-hidden ",l.setAttribute("id","submitTaskBTN"),e.addEventListener("submit",p=>{p.preventDefault(),b(n.value),n.value=""}),t.append(l),e.append(t),e},b=e=>{const t=localStorage.getItem("tasks");if(t){const s=JSON.parse(t);s.push(e),localStorage.setItem("tasks",JSON.stringify(s))}else localStorage.setItem("tasks",JSON.stringify([e]))};
