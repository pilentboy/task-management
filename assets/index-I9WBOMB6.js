(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const E=(t,e,r=null)=>{const o=document.createElement("h2");return o.textContent=e,r&&o.setAttribute("id",r),t.forEach(n=>{o.classList.add(n)}),o},S=()=>{const t=document.createElement("div");t.id="groupBox",t.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-[4px] p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const e=document.createElement("button");e.id="groupBoxToggler",e.type="button";const r=document.createElement("img");return r.src="/task-management/svg/files-svgrepo-com.svg",e.className="duration-500 w-28 absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",e.append(r),t.append(e),t.addEventListener("click",()=>{}),t},f=document.querySelector(".container"),k=t=>{const e=document.createElement("div");e.id="modalContainer",e.className="flex items-center justify-center w-screen h-screen fixed top-0 left-0 backdrop-blur-md	duration-150 z-[100]",e.append(t),e.addEventListener("click",r=>{r.target===e&&e.remove()}),f==null||f.append(e)},v=(t,e)=>{const r=document.createElement("div");return r.className="w-full flex items-center justify-center gap-10 mt-4",r.append(t),r.append(e),r},h=t=>{const e=document.createElement("button");e.type="button";const r=document.createElement("img");return r.src="/task-management/svg/close-square-svgrepo-com.svg",r.className="w-10 h-10",e.append(r),console.log("xx"),e.addEventListener("click",t),e},w=(t,e="افزودن",r=!0)=>{const o=document.createElement("button");return o.textContent=e,o.className=`self-center px-6 py-2  text-white outline-none border border-white rounded-md duration-150 relative overflow-hidden ${r?"animation-btn":null}`,o.setAttribute("id",t),o},I=()=>{const t=document.createElement("div");t.className="w-3/4 h-[250px] sm:w-1/4  flex justify-center bg-black  border-b-[4px] border-t-[4px]  border-slate-900 modal-gr  animate__fadeIn animate__animated";const e=document.createElement("form");e.id="updateProfile";const r=document.createElement("div");e.append(r),r.className="flex flex-col gap-2 items-center justify-center w-full h-full";const o=document.createElement("input");return o.id="changeUsernameInput",o.className="w-full p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="تغییر نام کاربری",r.append(o),r.append(v(h(()=>{var n;(n=document.querySelector("#modalContainer"))==null||n.remove()}),w("updateProfile","تایید",!1))),e.addEventListener("submit",n=>{n.preventDefault(),o&&o.value.length>1&&o.value.length<=30&&(localStorage.setItem("username",o.value),location.reload())}),t.append(e),t},T=()=>{const t=document.createElement("div");t.id="profileBox",t.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-[4px] p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const e=document.createElement("button");e.id="groupBoxToggler",e.type="button";const r=document.createElement("img");return r.src="/task-management/svg/profile-svgrepo-com.svg",e.className="duration-500 w-20  absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",e.append(r),t.append(e),t.addEventListener("click",()=>{k(I())}),t},C=(t,e)=>{const r=localStorage.getItem("groups");if(r){const o=JSON.parse(r);o.forEach(n=>{if(Object.keys(n)[0]===e){const s=n[e];s.push(t.trim()),n[e]=s,localStorage.setItem("groups",JSON.stringify(o))}})}else localStorage.setItem("groups",JSON.stringify([{وظایفم:[t.trim()]}]))},B=t=>{const e=localStorage.getItem("groups"),r=e?JSON.parse(e):null;let o=[];return r.forEach(s=>{o.push(Object.keys(s)[0])}),!(o.filter(s=>s===t).length>0)},A=()=>{const t=document.querySelector("#addTaskBox"),e=document.createElement("form");e.className="z-[5]",e.id="addNewList";const r=document.createElement("div");e.append(r),r.className="absolute top-0 left-0 flex flex-col gap-2 items-center justify-center modal-gr w-full h-full";const o=document.createElement("input");o.className="w-3/4 p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="نام دسته ی جدید...",o.id="addListInput",r.append(o),r.append(v(h(()=>{e.remove()}),w("addNewList"))),e.addEventListener("submit",n=>{if(n.preventDefault(),o.value.length>0&&o.value.length<50&&B(o.value.trim())){const s=localStorage.getItem("groups"),l=s?JSON.parse(s):null;l.push({[o==null?void 0:o.value.trim()]:[]}),localStorage.setItem("groups",JSON.stringify(l)),o.value=""}else o.classList.remove("border-slate-400"),o.classList.add("border-red-500","border-2")}),t==null||t.append(e)},O=()=>{const t=document.createElement("form");t.setAttribute("id","addTaskForm"),t.className="w-full";const e=document.createElement("div");e.id="formContainer",e.className="flex flex-col gap-2 add-task-bg",t.append(e);const r=localStorage.getItem("username"),o=document.createElement("label");o.setAttribute("for","taskInput"),o.className="text-white font-2xl animate-type ",o.textContent=`سلام ${r}!  هدفت چیه؟`,e.append(o);const n=document.createElement("input");n.className="w-[90%] p-2 outline-none bg-white placeholder:text-gray-600 text-black border-slate-400 hover:border-slate-800 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",n.placeholder="هدفم...",n.setAttribute("id","taskInput"),e.append(n);const s=document.createElement("label");s.textContent="تو کدوم دسته؟",s.className="text-white font-2xl",s.setAttribute("for","tasksList"),e.append(s);const l=document.createElement("div");l.className="flex items-center gap-1";const i=document.createElement("select");i.name="taskList",i.id="tasksList",i.className="w-1/2 p-1 bg-transparent cursor-pointer text-white border-slate-400 border hover:border-slate-800 focus:border-slate-800 duration-150  outline-none rounded-md";const y=localStorage.getItem("groups")||null;if(y){const a=JSON.parse(y);let c=[];a.forEach(m=>{c.push(Object.keys(m)[0])}),c.forEach(m=>{const p=document.createElement("option");p.value=m,p.textContent=m,p.className="border-slate-400 bg-transparent  text-black hover:border-slate-800 focus:border-slate-800 duration-150 ",i.append(p)})}else{const a=document.createElement("option");a.value="وظایفم",a.textContent="وظایفم",a.className="border-slate-400 bg-transparent  hover:border-slate-800 focus:border-slate-800 duration-150 ",i.append(a)}l.append(i);const u=document.createElement("button");return u.setAttribute("type","button"),u.className="py-1 px-3 border-none text-white text-lg",u.textContent="+",u.addEventListener("click",A),l.append(u),e.append(l),e.append(v(h(()=>{t.remove();const a=document.querySelector("#taskBoxToggler"),c=document.querySelector("#addTaskBox");a==null||a.classList.remove("animation-remove"),c==null||c.classList.remove("sm:w-96","justify-start","items-start","h-64"),c==null||c.classList.add("sm:w-64","h-48")}),w("submitTaskBTN","افزودن",!1))),t.addEventListener("submit",a=>{a.preventDefault(),n.value.trim().length>0&&n.value.trim().length<50?(C(n.value,i.value),n.classList.remove("border-2","border-red-600"),n.classList.add("border-slate-400"),n.value=""):(n.classList.remove("border-slate-400"),n.classList.add("border-2","border-red-600"))}),t.append(e),t},j=()=>{const t=document.createElement("div");t.id="addTaskBox",t.className="w-[90%] h-48 flex flex-col relative	items-center justify-center  sm:h-64 border-l-[4px] border-r-[4px] p-4 border-slate-900 overflow-hidden sm:w-64 duration-300";const e=document.createElement("button");e.id="taskBoxToggler",e.type="button";const r=document.createElement("img");return r.src="/task-management/svg/plus-circle-svgrepo-com.svg",e.className="duration-500 w-28 cursor-pointer absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",e.append(r),e.addEventListener("click",()=>{e.classList.add("animation-remove"),e.disabled=!0,setTimeout(()=>{t.classList.remove("sm:w-64","rotate-90","h-48"),t.classList.add("sm:w-96","justify-start","items-start","h-64"),t.append(O()),e.disabled=!1},500)}),t.append(e),t},d=document.querySelector(".container"),L=()=>{d==null||d.append(S()),d==null||d.append(j()),d==null||d.append(T())},q=t=>{t.preventDefault();const e=document.querySelector("#usernameInput");if(e&&e.value.length>1&&e.value.length<=30){const r=document.querySelector("#welcomingContainer");localStorage.setItem("username",e.value),localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),r==null||r.classList.add("animation-remove"),setTimeout(()=>{r==null||r.remove(),L()},2e3)}else e==null||e.classList.add("border-red-500")},g=document.querySelector(".container"),J=()=>{const t=document.createElement("form");t.setAttribute("action","#"),t.setAttribute("id","registerForm"),t.addEventListener("submit",n=>q(n));const e=document.createElement("div");e.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),t.append(e);const r=document.createElement("input");r.setAttribute("id","usernameInput"),r.setAttribute("name","username"),r.setAttribute("placeholder","نام کاربری"),r.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),e.append(r);const o=document.createElement("button");return o.textContent="ورود",o.classList.add("p-4","text-white","border-[2px]","rounded-md","relative","animation-btn","overflow-hidden"),e.append(o),t},M=()=>{const t=document.createElement("div");t.setAttribute("id","welcomingContainer"),t.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),t.append(E(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),t.append(E(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),t.append(J()),g==null||g.append(t)},b=document.querySelector(".container"),P=()=>{if(document.querySelector("#starsContainer")){let r=document.querySelector("#starsContainer");r==null||r.remove()}const t=document.createElement("div");t.setAttribute("id","starsContainer"),t.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const e=20;for(let r=0;r<=e;r++){const o=document.createElement("span");o.classList.add("star","absolute");const n=Math.floor(Math.random()*window.innerWidth+50),s=Math.floor(Math.random()*window.innerHeight+50);o.style.left=`${n}px`,o.style.top=`${s}px`,t.append(o)}b==null||b.append(t)},x=document.querySelector("#loading");window.addEventListener("load",()=>{P(),setTimeout(()=>{localStorage.getItem("username")?(localStorage.getItem("groups")||localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),L()):M(),x==null||x.remove(),N()},10)});window.addEventListener("resize",()=>{N()});const N=()=>{const t=document.querySelector("#welcomeMessage");t&&(window.innerWidth<640?t.textContent="به اپ برنامه ریزی خودت خوش اومدی":t.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")};
