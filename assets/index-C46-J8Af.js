(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();const _=(e,t,n=null)=>{const s=document.createElement("h2");return s.textContent=t,n&&s.setAttribute("id",n),e.forEach(a=>{s.classList.add(a)}),s},k=document.querySelector(".container"),J=e=>{const t=document.createElement("div");t.id="modalContainer",t.className="flex items-center justify-center w-screen h-screen fixed top-0 left-0 backdrop-blur-sm	duration-150 z-[100]",t.append(e),t.addEventListener("click",n=>{n.target===t&&t.remove()}),k==null||k.append(t)},q=(e,t)=>{var a;const n=localStorage.getItem("groups"),s=n?JSON.parse(n):null;s.forEach(o=>{Object.keys(o)[0]===t&&o[t].forEach(c=>{if(c.id===e)if(c.status)c.status=!1,c.completedDate=!1;else{const i=new Date().toLocaleString("fa-IR",{dateStyle:"medium"});c.status=!0,c.completedDate=i}})}),localStorage.setItem("groups",JSON.stringify(s)),(a=document.querySelector("#taskList"))==null||a.remove(),y(t)},R=(e,t)=>{var a;const n=localStorage.getItem("groups"),s=n?JSON.parse(n):null;s.forEach((o,c)=>{if(Object.keys(o)[0]===e){const r=o[e].filter(i=>i.id!==t);s[c][e]=r}}),localStorage.setItem("groups",JSON.stringify(s)),(a=document.querySelector("#taskList"))==null||a.remove(),y(e)},P=()=>{const e=document.createElement("div");e.id="groupManager",e.className="w-[95%] sm:w-[400px] h-[450px] border-2 border-slate-800 rounded-lg flex flex-col p-2 add-task-bg animate__fadeIn animate__animated";const t=document.createElement("div");return t.className="w-full border-b border-white h-12 flex items-center",e.append(t),t.append(z()),e},z=()=>{const e=localStorage.getItem("groups"),t=e?JSON.parse(e):null,n=document.createElement("ul");return n.className="w-full flex items-center gap-2 overflow-hidden px-2",t.forEach(s=>{const a=Object.keys(s)[0],o=document.createElement("li");o.id=a,o.className="text-white text-sm cursor-pointer group-title border border-white p-1 rounded-md",o.textContent=a,o.addEventListener("click",c=>{var r;(r=document.querySelector("#taskList"))==null||r.remove(),y(c.srcElement.id)}),n.append(o)}),n},y=e=>{const t=document.querySelector("#groupManager"),n=document.createElement("ul");n.id="taskList",n.className="flex flex-col gap-4 mt-2 p-2  h-full ";const s=localStorage.getItem("groups");(s?JSON.parse(s):null).forEach(o=>{Object.keys(o)[0]===e&&o[e].forEach(r=>{const i=document.createElement("div");i.className="flex items-center justify-between w-full";const u=document.createElement("div");u.className="flex items-center gap-3";const l=document.createElement("button");l.type="button",l.className="relative overflow-visible task-setting";const m=document.createElement("div");m.className="w-10 h-10 -top-2 -left-10 rounded-md hidden items-center justify-center bg-black sm:bg-gray-900 absolute  sm:-top-2 sm:left-8 animate tast-setting-box z-10 animate__jackInTheBox animate__animated";const p=document.createElement("img");p.className="w-5",p.src="/task-management/svg/garbage-trash-svgrepo-com.svg",p.addEventListener("click",()=>{i.classList.add("animate__flipOutX"),setTimeout(()=>R(e,r.id),600)}),m.append(p),l.append(m);const b=document.createElement("img");b.src="/task-management/svg/dot-menu-more-svgrepo-com.svg",b.className="w-4",l.append(b),u.append(l);const v=document.createElement("button");v.type="button",v.className="w-6 h-6 bg-trasnparent";const g=document.createElement("img");g.className="w-fit h-fit  animate__animated",r.status?g.src="/task-management/svg/tick-circle-svgrepo-com.svg":g.src="/task-management/svg/circle-svgrepo-com.svg",v.append(g);let w=!1;v.addEventListener("click",()=>{w=!0,r.status?q(r.id,e):(g.src="/task-management/svg/tick-circle-svgrepo-com.svg",g.classList.add("animate__rubberBand"),setTimeout(()=>{q(r.id,e)},900))}),v.addEventListener("mouseenter",()=>{!r.status&&!w&&(g.src="/task-management/svg/tick-circle-svgrepo-com.svg")}),v.addEventListener("mouseleave",()=>{!r.status&&!w&&(g.src=g.src="/task-management/svg/circle-svgrepo-com.svg")}),u.append(v);const E=document.createElement("li");E.className="text-white text-sm",E.textContent=r.title,u.append(E),i.append(u);const x=document.createElement("button");x.type="button",x.className="w-8 h-8 relative task-date-btn";const N=document.createElement("img");N.className="w-fit h-fit",N.src="/task-management/svg/date-search-svgrepo-com.svg",x.append(N);const L=document.createElement("div");L.className="absolute left-10 -top-3 border border-white sm:border-none w-32 h-12 rounded-md hidden flex-col items-center justify-around date-box bg-slate-900 p-1 animate__fadeIn animate__animated sm:-left-36";for(let S=0;S<2;S++){const h=document.createElement("span");h.className="text-white text-[12px]",S===0?h.textContent=`شروع:  ${r.createdDate}`:r.completedDate?h.textContent=`پایان:  ${r.completedDate}`:h.className="w-2 h-2 rounded-full bg-white animate-ping",L.append(h)}x.append(L),console.log(x),i.append(x),n.append(i)})}),t==null||t.append(n)},F=()=>{const e=document.createElement("div");e.id="groupBox",e.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-2 p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const t=document.createElement("button");t.id="groupBoxToggler",t.type="button";const n=document.createElement("img");return n.src="/task-management/svg/files-svgrepo-com.svg",t.className="duration-500 w-28 absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",t.append(n),e.append(t),e.addEventListener("click",()=>{J(P()),y("وظایفم")}),e},j=(e,t)=>{const n=document.createElement("div");return n.className="w-full flex items-center justify-center gap-10 mt-4",n.append(e),n.append(t),n},B=e=>{const t=document.createElement("button");t.type="button";const n=document.createElement("img");return n.src="/task-management/svg/close-square-svgrepo-com.svg",n.className="w-10 h-10",t.append(n),console.log("xx"),t.addEventListener("click",e),t},T=(e,t="افزودن",n=!0)=>{const s=document.createElement("button");return s.textContent=t,s.className=`self-center px-6 py-2  text-white outline-none border border-white rounded-md duration-150 relative overflow-hidden ${n?"animation-btn":null}`,s.setAttribute("id",e),s},G=()=>{const e=document.createElement("div");e.className="w-3/4 h-[250px] sm:w-[400px]  flex justify-center bg-black  border-b-[4px] border-t-[4px]  border-slate-900 modal-gr  animate__fadeIn animate__animated";const t=document.createElement("form");t.id="updateProfile";const n=document.createElement("div");t.append(n),n.className="flex flex-col gap-2 items-center justify-center w-full h-full";const s=document.createElement("input");return s.id="changeUsernameInput",s.className="w-full p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",s.placeholder="تغییر نام کاربری",n.append(s),n.append(j(B(()=>{var a;(a=document.querySelector("#modalContainer"))==null||a.remove()}),T("updateProfile","تایید",!1))),t.addEventListener("submit",a=>{a.preventDefault(),s&&s.value.length>1&&s.value.length<=30&&(localStorage.setItem("username",s.value),location.reload())}),e.append(t),e},V=()=>{const e=document.createElement("div");e.id="profileBox",e.className="w-[70%] h-36 flex flex-col relative items-center justify-center  sm:h-48 border-2 p-4 rounded-xl border-slate-900 overflow-hidden sm:w-48 duration-300 hover:scale-105 cursor-pointer";const t=document.createElement("button");t.id="groupBoxToggler",t.type="button";const n=document.createElement("img");return n.src="/task-management/svg/profile-svgrepo-com.svg",t.className="duration-500 w-20  absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] flex items-center justify-center",t.append(n),e.append(t),e.addEventListener("click",()=>{J(G())}),e},d=[];for(let e=0;e<256;++e)d.push((e+256).toString(16).slice(1));function H(e,t=0){return(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase()}let I;const W=new Uint8Array(16);function K(){if(!I){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");I=crypto.getRandomValues.bind(crypto)}return I(W)}const X=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A={randomUUID:X};function Q(e,t,n){if(A.randomUUID&&!t&&!e)return A.randomUUID();e=e||{};const s=e.random||(e.rng||K)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,H(s)}const Y=(e,t)=>{const s=new Date().toLocaleString("fa-IR",{dateStyle:"medium"}),a=localStorage.getItem("groups");if(a){const o=JSON.parse(a);o.forEach(c=>{if(Object.keys(c)[0]===t){const r={id:Q(),title:"",status:!1,createdDate:s,completedDate:!1},i=c[t];r.title=e.trim(),i.push(r),c[t]=i,localStorage.setItem("groups",JSON.stringify(o))}})}else localStorage.setItem("groups",JSON.stringify([{وظایفم:[e.trim()]}]))},Z=e=>{const t=localStorage.getItem("groups"),n=t?JSON.parse(t):null;let s=[];return n.forEach(o=>{s.push(Object.keys(o)[0])}),!(s.filter(o=>o===e).length>0)},$=()=>{const e=document.querySelector("#addTaskBox"),t=document.createElement("form");t.className="z-[5]",t.id="addNewList";const n=document.createElement("div");t.append(n),n.className="absolute top-0 left-0 flex flex-col gap-2 items-center justify-center modal-gr w-full h-full";const s=document.createElement("input");s.className="w-3/4 p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",s.placeholder="نام دسته ی جدید...",s.id="addListInput",n.append(s),n.append(j(B(()=>{t.remove()}),T("addNewList"))),t.addEventListener("submit",a=>{if(a.preventDefault(),s.value.length>0&&s.value.length<50&&Z(s.value.trim())){const o=localStorage.getItem("groups"),c=o?JSON.parse(o):null;c.push({[s==null?void 0:s.value.trim()]:[]}),localStorage.setItem("groups",JSON.stringify(c)),s.value=""}else s.classList.remove("border-slate-400"),s.classList.add("border-red-500","border-2")}),e==null||e.append(t)},ee=()=>{const e=document.createElement("form");e.setAttribute("id","addTaskForm"),e.className="w-full";const t=document.createElement("div");t.id="formContainer",t.className="flex flex-col gap-2 add-task-bg",e.append(t);const n=localStorage.getItem("username"),s=document.createElement("label");s.setAttribute("for","taskInput"),s.className="text-white font-2xl animate-type ",s.textContent=`سلام ${n}!  هدفت چیه؟`,t.append(s);const a=document.createElement("input");a.className="w-[90%] p-2 outline-none bg-white placeholder:text-gray-600 text-black border-slate-400 hover:border-slate-800 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",a.placeholder="هدفم...",a.setAttribute("id","taskInput"),t.append(a);const o=document.createElement("label");o.textContent="تو کدوم دسته؟",o.className="text-white font-2xl",o.setAttribute("for","tasksList"),t.append(o);const c=document.createElement("div");c.className="flex items-center gap-1";const r=document.createElement("select");r.name="taskList",r.id="tasksList",r.className="w-1/2 p-1 bg-transparent cursor-pointer text-white border-slate-400 border hover:border-slate-800 focus:border-slate-800 duration-150  outline-none rounded-md";const i=localStorage.getItem("groups")||null;if(i){const l=JSON.parse(i);let m=[];l.forEach(p=>{m.push(Object.keys(p)[0])}),m.forEach(p=>{const b=document.createElement("option");b.value=p,b.textContent=p,b.className="border-slate-400 bg-transparent  text-black hover:border-slate-800 focus:border-slate-800 duration-150 ",r.append(b)})}else{const l=document.createElement("option");l.value="وظایفم",l.textContent="وظایفم",l.className="border-slate-400 bg-transparent  hover:border-slate-800 focus:border-slate-800 duration-150 ",r.append(l)}c.append(r);const u=document.createElement("button");return u.setAttribute("type","button"),u.className="py-1 px-3 border-none text-white text-lg",u.textContent="+",u.addEventListener("click",$),c.append(u),t.append(c),t.append(j(B(()=>{e.remove();const l=document.querySelector("#taskBoxToggler"),m=document.querySelector("#addTaskBox");l==null||l.classList.remove("animation-remove"),m==null||m.classList.remove("sm:w-[400px]","justify-start","items-start","h-64"),m==null||m.classList.add("sm:w-64","h-48")}),T("submitTaskBTN","افزودن",!1))),e.addEventListener("submit",l=>{l.preventDefault(),a.value.trim().length>0&&a.value.trim().length<50?(Y(a.value,r.value),a.classList.remove("border-2","border-red-600"),a.classList.add("border-slate-400"),a.value=""):(a.classList.remove("border-slate-400"),a.classList.add("border-2","border-red-600"))}),e.append(t),e},te=()=>{const e=document.createElement("div");e.id="addTaskBox",e.className="w-[90%] h-48 flex flex-col relative	items-center  sm:h-64 border-l-2 border-r-2 p-4 border-slate-900 overflow-hidden sm:w-64 duration-300";const t=document.createElement("button");t.id="taskBoxToggler",t.type="button";const n=document.createElement("img");return n.src="/task-management/svg/plus-circle-svgrepo-com.svg",t.className="duration-500 w-28 cursor-pointer absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",t.append(n),t.addEventListener("click",()=>{t.classList.add("animation-remove"),t.disabled=!0,setTimeout(()=>{e.classList.remove("sm:w-64","rotate-90","h-48"),e.classList.add("sm:w-[400px]","justify-start","items-start","h-64"),e.append(ee()),t.disabled=!1},500)}),e.append(t),e},f=document.querySelector(".container"),U=()=>{f==null||f.append(F()),f==null||f.append(te()),f==null||f.append(V())},ne=e=>{e.preventDefault();const t=document.querySelector("#usernameInput");if(t&&t.value.length>1&&t.value.length<=30){const n=document.querySelector("#welcomingContainer");localStorage.setItem("username",t.value),localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),n==null||n.classList.add("animation-remove"),setTimeout(()=>{n==null||n.remove(),U()},2e3)}else t==null||t.classList.add("border-red-500")},O=document.querySelector(".container"),se=()=>{const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("id","registerForm"),e.addEventListener("submit",a=>ne(a));const t=document.createElement("div");t.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),e.append(t);const n=document.createElement("input");n.setAttribute("id","usernameInput"),n.setAttribute("name","username"),n.setAttribute("placeholder","نام کاربری"),n.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),t.append(n);const s=document.createElement("button");return s.textContent="ورود",s.classList.add("p-4","text-white","border-[2px]","rounded-md","relative","animation-btn","overflow-hidden"),t.append(s),e},ae=()=>{const e=document.createElement("div");e.setAttribute("id","welcomingContainer"),e.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),e.append(_(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),e.append(_(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),e.append(se()),O==null||O.append(e)},D=document.querySelector(".container"),oe=()=>{if(document.querySelector("#starsContainer")){let n=document.querySelector("#starsContainer");n==null||n.remove()}const e=document.createElement("div");e.setAttribute("id","starsContainer"),e.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const t=20;for(let n=0;n<=t;n++){const s=document.createElement("span");s.classList.add("star","absolute");const a=Math.floor(Math.random()*window.innerWidth+50),o=Math.floor(Math.random()*window.innerHeight+50);s.style.left=`${a}px`,s.style.top=`${o}px`,e.append(s)}D==null||D.append(e)},C=document.querySelector("#loading");window.addEventListener("load",()=>{oe(),setTimeout(()=>{localStorage.getItem("username")?(localStorage.getItem("groups")||localStorage.setItem("groups",JSON.stringify([{وظایفم:[]}])),U()):ae(),C==null||C.remove(),M()},10)});window.addEventListener("resize",()=>{M()});const M=()=>{const e=document.querySelector("#welcomeMessage");e&&(window.innerWidth<640?e.textContent="به اپ برنامه ریزی خودت خوش اومدی":e.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")};
