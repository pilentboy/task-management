(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const b=document.querySelector("#loading"),d=document.querySelector(".container");window.addEventListener("load",()=>{w(),setTimeout(()=>{localStorage.getItem("username")?L():E(),b==null||b.remove(),v()},1)});window.addEventListener("resize",()=>{v(),w()});const v=()=>{const e=document.querySelector("#welcomeMessage");e&&(window.innerWidth<640?e.textContent="به اپ برنامه ریزی خودت خوش اومدی":e.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")},w=()=>{if(document.querySelector("#starsContainer")){let s=document.querySelector("#starsContainer");s==null||s.remove()}const e=document.createElement("div");e.setAttribute("id","starsContainer"),e.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const t=10;for(let s=0;s<=t;s++){const o=document.createElement("span");o.classList.add("star","absolute");const n=Math.floor(Math.random()*window.innerWidth+50),r=Math.floor(Math.random()*window.innerHeight+50);o.style.left=`${n}px`,o.style.top=`${r}px`,e.append(o)}d==null||d.append(e),console.log("stars rendered")},h=(e,t,s=null)=>{const o=document.createElement("h2");return o.textContent=t,s&&o.setAttribute("id",s),e.forEach(n=>{o.classList.add(n)}),o},y=()=>{const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("id","registerForm"),e.addEventListener("submit",n=>k(n));const t=document.createElement("div");t.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),e.append(t);const s=document.createElement("input");s.setAttribute("id","usernameInput"),s.setAttribute("name","username"),s.setAttribute("placeholder","نام کاربری"),s.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),t.append(s);const o=document.createElement("button");return o.textContent="ورود",o.classList.add("p-4","text-white","border-[2px]","rounded-md","relative","animation-btn","overflow-hidden"),t.append(o),e},E=()=>{const e=document.createElement("div");e.setAttribute("id","welcomingContainer"),e.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),e.append(h(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),e.append(h(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),e.append(y()),d==null||d.append(e)},k=e=>{e.preventDefault();const t=document.querySelector("#usernameInput");if(t&&t.value.length>1&&t.value.length<=30){const s=document.querySelector("#welcomingContainer");localStorage.setItem("username",JSON.stringify(t.value)),s==null||s.classList.add("animation-remove"),setTimeout(()=>{s==null||s.remove(),L()},2e3)}else t==null||t.classList.add("border-red-500")},N=()=>{const e=document.querySelector("#addTaskBox"),t=document.createElement("form"),s=document.createElement("div");s.className="absolute top-0 left-0 flex flex-col gap-2 items-center justify-center backdrop-blur-lg	 w-full h-full z-[999]",t.append(s);const o=document.createElement("input");o.className="w-3/4 p-2 outline-none bg-transparent text-white border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="نام دسته ی جدید...",o.id="addListInput",s.append(o);const n=document.createElement("button");n.textContent="افزودن",n.className="self-submitNewList px-6 py-2 animation-btn text-white outline-none border border-slate-900 rounded-md duration-150 mt-5 relative overflow-hidden ",n.setAttribute("id","submitNewList"),n.addEventListener("click",()=>{if(o.value.length>0){const r=localStorage.getItem("tasks"),a=r?JSON.parse(r):null;a.push({[o==null?void 0:o.value]:[]}),localStorage.setItem("tasks",JSON.stringify(a)),console.log("done")}else o.classList.remove("border-slate-400"),o.classList.add("border-red-500")}),s.append(n),e==null||e.append(s)},L=()=>{const e=document.createElement("div");e.id="addTaskBox",e.className="w-[90%] flex flex-col	items-center justify-center fixed top-1/2 left-1/2 duration-300	 translate-x-[-50%] translate-y-[-50%]  h-48 border-2 p-4 rounded-md border-slate-900 overflow-hidden sm:w-48";const t=document.createElement("img");t.src="/task-management/svg/setting-svgrepo-com.svg",t.className="duration-300  shadow-xl  cursor-pointer bg-transparent absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",t.addEventListener("click",()=>{t.classList.add("animate-task-box-toggler"),setTimeout(()=>{e.classList.remove("w-48","h-48"),e.classList.add("sm:w-96","h-64","justify-start","items-start"),t.classList.add("w-10","h-10"),t.src="/task-management/svg/close-square-svgrepo-com.svg",e.append(S())},1e3)}),e.append(t),d==null||d.append(e)},S=()=>{const e=document.createElement("form");e.setAttribute("id","addTaskForm"),e.className="w-full";const t=document.createElement("div");t.id="formContainer",t.className="flex flex-col gap-2",e.append(t);const s=localStorage.getItem("username"),o=s?JSON.parse(s):null,n=document.createElement("label");n.setAttribute("for","taskInput"),n.className="text-white font-2xl animate-type ",n.textContent=`سلام ${o}!  هدفت چیه؟`,t.append(n);const r=document.createElement("input");r.className="w-[90%] p-2 outline-none bg-transparent text-white border-slate-400 hover:border-slate-800 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",r.placeholder="هدفم...",r.setAttribute("id","taskInput"),t.append(r);const a=document.createElement("label");a.textContent="تو کدوم دسته؟",a.className="text-white text-sm",a.setAttribute("for","tasksList"),t.append(a);const u=document.createElement("div");u.className="flex items-center gap-1";const c=document.createElement("select");c.name="taskList",c.id="tasksList",c.className="w-1/2 p-1 bg-transparent cursor-pointer text-white border-slate-400 border hover:border-slate-800 focus:border-slate-800 duration-150  outline-none rounded-md";const x=localStorage.getItem("tasks")||null;if(x){const l=JSON.parse(x);let g=[];l.forEach(p=>{g.push(Object.keys(p)[0])}),g.forEach(p=>{const f=document.createElement("option");f.value=p,f.textContent=p,f.className="border-slate-400 bg-transparent text-red-500 hover:border-slate-800 focus:border-slate-800 duration-150 ",c.append(f)})}else{const l=document.createElement("option");l.value="وظایفم",l.textContent="وظایفم",l.className="border-slate-400 bg-transparent text-red-500 hover:border-slate-800 focus:border-slate-800 duration-150 ",c.append(l)}u.append(c);const i=document.createElement("button");i.setAttribute("type","button"),i.className="py-1 px-3 border-none text-white text-lg",i.textContent="+",i.addEventListener("click",N),u.append(i),t.append(u);const m=document.createElement("button");return m.textContent="افزودن",m.className="self-center px-6 py-2 animation-btn text-white outline-none border border-slate-900 rounded-md duration-150 mt-5 relative overflow-hidden ",m.setAttribute("id","submitTaskBTN"),e.addEventListener("submit",l=>{l.preventDefault(),C(r.value,c.value),r.value=""}),t.append(m),e.append(t),e},C=(e,t)=>{const s=localStorage.getItem("tasks");if(s){const o=JSON.parse(s);o.forEach(n=>{if(Object.keys(n)[0]===t){const r=n[t];r.push(e),n[t]=r,localStorage.setItem("tasks",JSON.stringify(o))}})}else localStorage.setItem("tasks",JSON.stringify([{وظایفم:[e]}]))};
