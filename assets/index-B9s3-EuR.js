(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();const d=document.querySelector("#loading"),a=document.querySelector(".container");window.addEventListener("load",()=>{u(),setTimeout(()=>{localStorage.getItem("username")?console.log(localStorage.getItem("username")):f(),d==null||d.remove(),i()},500)});window.addEventListener("resize",()=>{i(),u()});const i=()=>{const e=document.querySelector("#welcomeMessage");e&&(window.innerWidth<640?e.textContent="به اپ برنامه ریزی خودت خوش اومدی":e.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")},u=()=>{if(document.querySelector("#starsContainer")){let t=document.querySelector("#starsContainer");t==null||t.remove()}const e=document.createElement("div");e.setAttribute("id","starsContainer"),e.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const n=30;for(let t=0;t<=n;t++){const o=document.createElement("span");o.classList.add("star","absolute"),t%2===0&&o.classList.add("animate-ping");const r=Math.floor(Math.random()*window.innerWidth+50),s=Math.floor(Math.random()*window.innerHeight+50);o.style.left=`${r}px`,o.style.top=`${s}px`,e.append(o)}a==null||a.append(e),console.log("stars rendered")},c=(e,n,t=null)=>{const o=document.createElement("h2");return o.textContent=n,t&&o.setAttribute("id",t),e.forEach(r=>{o.classList.add(r)}),o},m=()=>{const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("id","registerForm"),e.addEventListener("submit",r=>p(r));const n=document.createElement("div");n.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),e.append(n);const t=document.createElement("input");t.setAttribute("id","usernameInput"),t.setAttribute("name","username"),t.setAttribute("placeholder","نام کاربری"),t.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),n.append(t);const o=document.createElement("button");return o.textContent="ورود",o.classList.add("p-4","text-white","border-[2px]","rounded-md","after:absolute","after:content-['']","after:w-full","after:h-full","after:z-[-1]","after:bg-slate-900","after:top-0","after:left-0","relative","after:translate-x-[100%]","overflow-hidden","hover:after:translate-x-0","after:duration-150"),n.append(o),e},f=()=>{const e=document.createElement("div");e.setAttribute("id","welcomingContainer"),e.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),e.append(c(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),e.append(c(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),e.append(m()),a==null||a.append(e)},p=e=>{e.preventDefault();const n=document.querySelector("#usernameInput");if(n&&n.value.length>1&&n.value.length<=30){const t=document.querySelector("#welcomingContainer");localStorage.setItem("username",JSON.stringify(n.value)),t==null||t.classList.add("animation-remove"),setTimeout(()=>{t==null||t.remove()},2e3)}else n==null||n.classList.add("border-red-500")};
