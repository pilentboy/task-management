(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const b=document.querySelector("#loading"),l=document.querySelector(".container");window.addEventListener("load",()=>{w(),setTimeout(()=>{localStorage.getItem("username")?(localStorage.getItem("tasks")||localStorage.setItem("tasks",JSON.stringify([{وظایفم:[]}])),L(),g(),h()):C(),console.log("xx"),b==null||b.remove(),y()},10)});window.addEventListener("resize",()=>{y(),w()});const y=()=>{const t=document.querySelector("#welcomeMessage");t&&(window.innerWidth<640?t.textContent="به اپ برنامه ریزی خودت خوش اومدی":t.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")},w=()=>{if(document.querySelector("#starsContainer")){let s=document.querySelector("#starsContainer");s==null||s.remove()}const t=document.createElement("div");t.setAttribute("id","starsContainer"),t.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const e=10;for(let s=0;s<=e;s++){const n=document.createElement("span");n.classList.add("star","absolute");const r=Math.floor(Math.random()*window.innerWidth+50),o=Math.floor(Math.random()*window.innerHeight+50);n.style.left=`${r}px`,n.style.top=`${o}px`,t.append(n)}l==null||l.append(t),console.log("stars rendered")},v=(t,e,s=null)=>{const n=document.createElement("h2");return n.textContent=e,s&&n.setAttribute("id",s),t.forEach(r=>{n.classList.add(r)}),n},S=()=>{const t=document.createElement("form");t.setAttribute("action","#"),t.setAttribute("id","registerForm"),t.addEventListener("submit",r=>O(r));const e=document.createElement("div");e.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),t.append(e);const s=document.createElement("input");s.setAttribute("id","usernameInput"),s.setAttribute("name","username"),s.setAttribute("placeholder","نام کاربری"),s.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),e.append(s);const n=document.createElement("button");return n.textContent="ورود",n.classList.add("p-4","text-white","border-[2px]","rounded-md","relative","animation-btn","overflow-hidden"),e.append(n),t},C=()=>{const t=document.createElement("div");t.setAttribute("id","welcomingContainer"),t.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),t.append(v(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),t.append(v(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),t.append(S()),l==null||l.append(t)},O=t=>{t.preventDefault();const e=document.querySelector("#usernameInput");if(e&&e.value.length>1&&e.value.length<=30){const s=document.querySelector("#welcomingContainer");localStorage.setItem("username",JSON.stringify(e.value)),localStorage.setItem("tasks",JSON.stringify([{وظایفم:[]}])),s==null||s.classList.add("animation-remove"),setTimeout(()=>{s==null||s.remove(),L(),g(),h()},2e3)}else e==null||e.classList.add("border-red-500")},T=()=>{const t=document.querySelector("#addTaskBox"),e=document.createElement("form");e.className="z-[999]",e.id="addNewList";const s=document.createElement("div");e.append(s),s.className="absolute top-0 left-0 flex flex-col gap-2 items-center justify-center bg-black w-full h-full";const n=document.createElement("input");n.className="w-3/4 p-2 outline-none placeholder:text-gray-600 bg-white text-black border-slate-400 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",n.placeholder="نام دسته ی جدید...",n.id="addListInput",s.append(n),s.append(E(N(()=>{e.remove()}),k("addNewList"))),e.addEventListener("submit",r=>{var o;if(r.preventDefault(),n.value.length>0&&n.value.length<50&&I(n.value.trim())){const c=localStorage.getItem("tasks"),i=c?JSON.parse(c):null;i.push({[n==null?void 0:n.value.trim()]:[]}),localStorage.setItem("tasks",JSON.stringify(i)),n.value="",(o=document.querySelector("#planetContainer"))==null||o.remove(),g(),h()}else n.classList.remove("border-slate-400"),n.classList.add("border-red-500","border-2")}),t==null||t.append(e)},I=t=>{const e=localStorage.getItem("tasks"),s=e?JSON.parse(e):null;let n=[];return s.forEach(o=>{n.push(Object.keys(o)[0])}),!(n.filter(o=>o===t).length>0)},L=()=>{const t=document.createElement("div");t.id="addTaskBox",t.className="w-[90%] flex flex-col	items-center justify-center fixed top-1/2 left-1/2 duration-300	 translate-x-[-50%] translate-y-[-50%]  h-48 border-2 p-4 rounded-md border-slate-900 overflow-hidden sm:w-48";const e=document.createElement("button");e.id="taskBoxToggler",e.type="button";const s=document.createElement("img");s.src="/task-management/svg/setting-svgrepo-com.svg",e.className="duration-500  shadow-xl  animate-pulse cursor-pointer absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]",e.append(s),e.addEventListener("click",()=>{e.classList.add("rotate-90","animation-remove"),e.disabled=!0,setTimeout(()=>{t.classList.remove("w-48","h-48"),t.classList.add("sm:w-96","h-64","justify-start","items-start"),t.append(A()),e.disabled=!1},950)}),t.append(e),l==null||l.append(t)},A=()=>{const t=document.createElement("form");t.setAttribute("id","addTaskForm"),t.className="w-full";const e=document.createElement("div");e.id="formContainer",e.className="flex flex-col gap-2",t.append(e);const s=localStorage.getItem("username"),n=s?JSON.parse(s):null,r=document.createElement("label");r.setAttribute("for","taskInput"),r.className="text-white font-2xl animate-type ",r.textContent=`سلام ${n}!  هدفت چیه؟`,e.append(r);const o=document.createElement("input");o.className="w-[90%] p-2 outline-none bg-white placeholder:text-gray-600 text-black border-slate-400 hover:border-slate-800 focus:border-slate-800 duration-150 border rounded-md placeholder:text-sm",o.placeholder="هدفم...",o.setAttribute("id","taskInput"),e.append(o);const c=document.createElement("label");c.textContent="تو کدوم دسته؟",c.className="text-white text-sm",c.setAttribute("for","tasksList"),e.append(c);const i=document.createElement("div");i.className="flex items-center gap-1";const m=document.createElement("select");m.name="taskList",m.id="tasksList",m.className="w-1/2 p-1 bg-transparent cursor-pointer text-white border-slate-400 border hover:border-slate-800 focus:border-slate-800 duration-150  outline-none rounded-md";const x=localStorage.getItem("tasks")||null;if(x){const a=JSON.parse(x);let d=[];a.forEach(p=>{d.push(Object.keys(p)[0])}),d.forEach(p=>{const f=document.createElement("option");f.value=p,f.textContent=p,f.className="border-slate-400 bg-transparent  text-black hover:border-slate-800 focus:border-slate-800 duration-150 ",m.append(f)})}else{const a=document.createElement("option");a.value="وظایفم",a.textContent="وظایفم",a.className="border-slate-400 bg-transparent  hover:border-slate-800 focus:border-slate-800 duration-150 ",m.append(a)}i.append(m);const u=document.createElement("button");return u.setAttribute("type","button"),u.className="py-1 px-3 border-none text-white text-lg",u.textContent="+",u.addEventListener("click",T),i.append(u),e.append(i),e.append(E(N(()=>{t.remove();const a=document.querySelector("#taskBoxToggler"),d=document.querySelector("#addTaskBox");a==null||a.classList.remove("animation-remove"),d==null||d.classList.remove("sm:w-96","h-64","justify-start","items-start"),d==null||d.classList.add("w-48","h-48")}),k("submitTaskBTN"))),t.addEventListener("submit",a=>{a.preventDefault(),o.value.trim().length>0&&o.value.trim().length<50?(q(o.value,m.value),o.classList.remove("border-2","border-red-600"),o.value=""):o.classList.add("border-2","border-red-600")}),t.append(e),t},q=(t,e)=>{const s=localStorage.getItem("tasks");if(s){const n=JSON.parse(s);n.forEach(r=>{if(Object.keys(r)[0]===e){const o=r[e];o.push(t.trim()),r[e]=o,localStorage.setItem("tasks",JSON.stringify(n))}})}else localStorage.setItem("tasks",JSON.stringify([{وظایفم:[t.trim()]}]))},k=t=>{const e=document.createElement("button");return e.textContent="افزودن",e.className="self-center px-6 py-2 animation-btn text-white outline-none border border-slate-900 rounded-md duration-150 relative overflow-hidden ",e.setAttribute("id",t),e},E=(t,e)=>{const s=document.createElement("div");return s.className="w-full flex items-center justify-center gap-10 mt-4",s.append(t),s.append(e),s},N=t=>{const e=document.createElement("button");e.type="button";const s=document.createElement("img");return s.src="/task-management/svg/close-square-svgrepo-com.svg",s.className="w-10 h-10",e.append(s),e.addEventListener("click",t),e},g=()=>{const t=document.createElement("div");t.id="planetContainer",t.className="w-full h-screen flex  items-end justify-center gap-4 p-2",l==null||l.append(t)},h=()=>{const t=document.querySelector("#planetContainer"),e=localStorage.getItem("tasks"),s=e?JSON.parse(e):null;console.log(s),s.forEach(n=>{const r=document.createElement("div");r.id=Object.keys(n)[0],r.className="bg-test2 overflow-hidden bg-cover w-28 h-28 rounded-full";const o=document.createElement("img");o.src="/task-management/images/planet.png",o.className="w-fit",t==null||t.append(r)})};
