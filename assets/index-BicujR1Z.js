(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const c=document.querySelector("#loading"),a=document.querySelector(".container");window.addEventListener("load",()=>{m(),setTimeout(()=>{localStorage.getItem("username")?f():g(),c==null||c.remove(),u()},500)});window.addEventListener("resize",()=>{u(),m()});const u=()=>{const e=document.querySelector("#welcomeMessage");e&&(window.innerWidth<640?e.textContent="به اپ برنامه ریزی خودت خوش اومدی":e.textContent="با این اپلیکیشن میتونی به سادگی واسه اهدافت برنامه ریزی کنی")},m=()=>{if(document.querySelector("#starsContainer")){let r=document.querySelector("#starsContainer");r==null||r.remove()}const e=document.createElement("div");e.setAttribute("id","starsContainer"),e.classList.add("w-screen","h-screen","top-0","left-0","fixed","z-[-1]","px-10");const t=30;for(let r=0;r<=t;r++){const n=document.createElement("span");n.classList.add("star","absolute"),r%2===0&&n.classList.add("animate-ping");const s=Math.floor(Math.random()*window.innerWidth+50),o=Math.floor(Math.random()*window.innerHeight+50);n.style.left=`${s}px`,n.style.top=`${o}px`,e.append(n)}a==null||a.append(e),console.log("stars rendered")},i=(e,t,r=null)=>{const n=document.createElement("h2");return n.textContent=t,r&&n.setAttribute("id",r),e.forEach(s=>{n.classList.add(s)}),n},p=()=>{const e=document.createElement("form");e.setAttribute("action","#"),e.setAttribute("id","registerForm"),e.addEventListener("submit",s=>x(s));const t=document.createElement("div");t.classList.add("flex","flex-col","mx-auto","w-full","items-center","justify-center","gap-3","sm:flex-row","mt-5"),e.append(t);const r=document.createElement("input");r.setAttribute("id","usernameInput"),r.setAttribute("name","username"),r.setAttribute("placeholder","نام کاربری"),r.classList.add("outline-none","w-80","px-4","py-4","rounded-md","border-[2px]","duration-200","text-white","bg-transparent","placeholder:text-sm","hover:border-slate-800","focus:border-slate-800"),t.append(r);const n=document.createElement("button");return n.textContent="ورود",n.classList.add("p-4","text-white","border-[2px]","rounded-md","after:absolute","after:content-['']","after:w-full","after:h-full","after:z-[-1]","after:bg-slate-900","after:top-0","after:left-0","relative","after:translate-x-[100%]","overflow-hidden","hover:after:translate-x-0","after:duration-150"),t.append(n),e},g=()=>{const e=document.createElement("div");e.setAttribute("id","welcomingContainer"),e.classList.add("w-full","px-2","fixed","top-1/2","left-1/2","translate-x-[-50%]","translate-y-[-50%]","flex","items-center","flex-col"),e.append(i(["text-3xl","text-slate-500","text-center","px-2","animate-bounce"],"","welcomeMessage")),e.append(i(["text-white","text-2xl","text-center","shadow-slate-900","shadow-lg","my-10"]," برای شروع فقط کافیه یه اسم واسه حسابت وارد کنی")),e.append(p()),a==null||a.append(e)},x=e=>{e.preventDefault();const t=document.querySelector("#usernameInput");if(t&&t.value.length>1&&t.value.length<=30){const r=document.querySelector("#welcomingContainer");localStorage.setItem("username",JSON.stringify(t.value)),r==null||r.classList.add("animation-remove"),setTimeout(()=>{r==null||r.remove(),f()},2e3)}else t==null||t.classList.add("border-red-500")},f=()=>{const e=document.createElement("button");e.type="button",e.className="absolute top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] animation-add-btn duration-500  ",e.setAttribute("id","addTaskBTN"),e.addEventListener("click",h);const t=document.createElement("img");t.src="/task-management/svg/square-plus-solid.svg",e.appendChild(t),a==null||a.append(e)};let d=!1;const h=()=>{const e=document.querySelector("#addTaskBTN"),t=e==null?void 0:e.children[0];d?(t==null||t.setAttribute("src","/task-management/svg/square-plus-solid.svg"),e==null||e.classList.remove("top-[20%]"),e==null||e.classList.add("top-1/2"),d=!1):(t==null||t.setAttribute("src","/task-management/svg/rectangle-xmark-solid.svg"),e==null||e.classList.remove("top-1/2"),e==null||e.classList.add("top-[20%]"),d=!0)};
